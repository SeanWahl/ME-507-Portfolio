<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 507 Portfolio: Src/encoder.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ME 507 Portfolio
   </div>
   <div id="projectbrief">Hungry Hungry Hippo Robot</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_413f4e031a85da0d68269c6fd2f76e1c.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">encoder.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file provides the ability to interface with an encoder. Note: timer channels 1 and 2 must be used to be able to utilize STM32 CubeIDE's Encoder Mode.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="encoder_8h_source.html">encoder.h</a>&quot;</code><br />
<code>#include &quot;math.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a23b4053bbf5b3f3aa1e77af81e7015b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_encoder_type.html">encoder_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="encoder_8c.html#a23b4053bbf5b3f3aa1e77af81e7015b5">encoder_Init</a> (TIM_HandleTypeDef *htim, uint32_t ARR, uint32_t CPR, uint32_t GR)</td></tr>
<tr class="memdesc:a23b4053bbf5b3f3aa1e77af81e7015b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encoder initialization function. This function configures a struct to contain all necessary information for using an encoder, including the encoder's timer number, the auto reload value, and more.  <br /></td></tr>
<tr class="separator:a23b4053bbf5b3f3aa1e77af81e7015b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add8d1b71096edaa3bec01829366eb332"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_encoder_type.html">encoder_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="encoder_8c.html#add8d1b71096edaa3bec01829366eb332">encoder_Update</a> (<a class="el" href="struct_encoder_type.html">encoder_t</a> myEnc)</td></tr>
<tr class="memdesc:add8d1b71096edaa3bec01829366eb332"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encoder update and reading function. This function updates the encoder's count based on the change in the timer's value, accounting for over and under flow. This value is also available in radian format.  <br /></td></tr>
<tr class="separator:add8d1b71096edaa3bec01829366eb332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ef7719298fd204d27b8370c47706124"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_encoder_type.html">encoder_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="encoder_8c.html#a5ef7719298fd204d27b8370c47706124">encoder_Zero</a> (<a class="el" href="struct_encoder_type.html">encoder_t</a> myEnc)</td></tr>
<tr class="memdesc:a5ef7719298fd204d27b8370c47706124"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encoder zeroing function This function resets the encoder's count to zero.  <br /></td></tr>
<tr class="separator:a5ef7719298fd204d27b8370c47706124"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file provides the ability to interface with an encoder. Note: timer channels 1 and 2 must be used to be able to utilize STM32 CubeIDE's Encoder Mode. </p>
<dl class="section author"><dt>Author</dt><dd>Sean Wahl </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June 14, 2023 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a23b4053bbf5b3f3aa1e77af81e7015b5" name="a23b4053bbf5b3f3aa1e77af81e7015b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b4053bbf5b3f3aa1e77af81e7015b5">&#9670;&#160;</a></span>encoder_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_encoder_type.html">encoder_t</a> encoder_Init </td>
          <td>(</td>
          <td class="paramtype">TIM_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>htim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ARR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>CPR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>GR</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encoder initialization function. This function configures a struct to contain all necessary information for using an encoder, including the encoder's timer number, the auto reload value, and more. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htim</td><td>Timer handle pointer </td></tr>
    <tr><td class="paramname">ARR</td><td>Auto reload value of the timer </td></tr>
    <tr><td class="paramname">CPR</td><td>Counts per revolution of the encoder </td></tr>
    <tr><td class="paramname">GR</td><td>Gear ratio attached to the output of the encoder's motor </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Returns</td><td>an encoder struct for future command use. <br  />
 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add8d1b71096edaa3bec01829366eb332" name="add8d1b71096edaa3bec01829366eb332"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add8d1b71096edaa3bec01829366eb332">&#9670;&#160;</a></span>encoder_Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_encoder_type.html">encoder_t</a> encoder_Update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_encoder_type.html">encoder_t</a>&#160;</td>
          <td class="paramname"><em>myEnc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encoder update and reading function. This function updates the encoder's count based on the change in the timer's value, accounting for over and under flow. This value is also available in radian format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">myEnc</td><td>Encoder struct type </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Encoder</td><td>struct for future use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5ef7719298fd204d27b8370c47706124" name="a5ef7719298fd204d27b8370c47706124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ef7719298fd204d27b8370c47706124">&#9670;&#160;</a></span>encoder_Zero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_encoder_type.html">encoder_t</a> encoder_Zero </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_encoder_type.html">encoder_t</a>&#160;</td>
          <td class="paramname"><em>myEnc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encoder zeroing function This function resets the encoder's count to zero. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">myEnc</td><td>Encoder struct type </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Encoder</td><td>struct for future use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
